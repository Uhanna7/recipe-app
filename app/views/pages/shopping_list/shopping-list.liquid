<h2>Shopping List</h2>

{% liquid
  graphql items = 'shopping_list/search'
%}

<!-- List of ingredients -->
<div id="shopping-container">
  <ul>
    {% for id in items.shopping_list.results[0].ingredient_ids %}
      {% liquid
        graphql item = 'ingredient/search_by_id', id: id
      %}
      <li>
        {{ item.records.results[0].name }}
        <form action="delete" method="post">
          <input
            type="hidden"
            name="id"
            value="{{ item.id }}">
          <button type="submit">Mark as done</button>
        </form>
      </li>
    {% endfor %}
  </ul>
</div>


<!-- Error when the list is empty -->
{% if items.records.total_entries == 0 %}
  <div>There are no items in the list.</div>
{% endif %}

<!-- Form for adding new item -->
<form
  action="create"
  method="post"
  id="form-container">
  <input
    type="text"
    name="name"
    placeholder="Add ingredients here">
  <button type="submit">Add item</button>
</form>
